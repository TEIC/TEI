<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>XML source view</title><link rel="stylesheet" type="text/css" href="xmlverbatim.css"/></head><body class="xmlverb-default"><tt>
<!-- converted by xmlverbatim.xsl 1.1, (c) O. Becker -->
<div xmlns:xd="http://www.pnp-software.com/XSLTdoc" class="xmlverb-default">&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e1">stylesheet</a></span><span class="xmlverb-ns-name"> xmlns:xsl</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/XSL/Transform</span>"<span class="xmlverb-ns-name"> xmlns:xd</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/XSLTdoc</span>"<span class="xmlverb-ns-name"> xmlns:xdt</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/XSLTdocTemplate</span>"<span class="xmlverb-ns-name"> xmlns:util</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/util</span>"<span class="xmlverb-ns-name"> xmlns:xs</span>="<span class="xmlverb-ns-uri">http://www.w3.org/2001/XMLSchema</span>" <span class="xmlverb-attr-name">version</span>="<span class="xmlverb-attr-content">2.0</span>" <span class="xmlverb-attr-name">exclude-result-prefixes</span>="<span class="xmlverb-attr-content">#all</span>"&gt;<span class="xmlverb-text"><br/>
                <br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e3">import</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">stylesheet.xsl</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e5">include</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">verbatim/xmlverbatimwrapper.xsl</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e7">include</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">lib/util.xsl</span>" /&gt;<span class="xmlverb-text"><br/>
  <br/>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e9">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">string</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e11">short</a></span>&gt;<span class="xmlverb-text">The directory in which the documentation should be generated.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">short</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e14">detail</a></span>&gt;<span class="xmlverb-text"><br/>
      The directory given<br/>
      must be relative to root stylesheet which is being processed.<br/>
      This parameter is used to compute the variable </span>&lt;<span class="xmlverb-element-name"><a name="d21e16">code</a></span>&gt;<span class="xmlverb-text">$targetDirUriAbs</span>&lt;/<span class="xmlverb-element-name">code</span>&gt;<span class="xmlverb-text">. If this parameter is not set<br/>
      the </span>&lt;<span class="xmlverb-element-name"><a name="d21e19">code</a></span>&gt;<span class="xmlverb-text">$targetDirUriAbs</span>&lt;/<span class="xmlverb-element-name">code</span>&gt;<span class="xmlverb-text"> variable defaults a directory 'xsltdoc' which is created inside the same directory<br/>
      in which the input stylesheet occurs.</span>&lt;<span class="xmlverb-element-name"><a name="d21e22">br</a></span> /&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-name"><a name="d21e24">strong</a></span>&gt;<span class="xmlverb-text">Only used if the input is a stylesheet file. Not used if the input is a XSLTdocConfig XML file.</span>&lt;/<span class="xmlverb-element-name">strong</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">detail</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e29">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDir</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">false()</span>" /&gt;<span class="xmlverb-text"><br/>
  <br/>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e31">doc</a></span>&gt;<span class="xmlverb-text"><br/>
    You can add additional (custom) css stylesheets here, which override css rules from the standard css file (XSLTdoc.css) or add new rules.  <br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e34">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">additionalCSS</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"><br/>
  <br/>
  <br/>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e36">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">stylesheet</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e38">short</a></span>&gt;<span class="xmlverb-text">Core XSLTdoc Stylesheet</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">short</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e41">detail</a></span>&gt;<span class="xmlverb-text"><br/>
     This stylesheet<br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">detail</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e44">author</a></span>&gt;<span class="xmlverb-text">ibirrer</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">author</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e47">cvsId</a></span>&gt;<span class="xmlverb-text">$Id: core.xsl,v 1.3 2005/01/04 10:13:05 ibirrer Exp $</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">cvsId</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e50">copyright</a></span>&gt;<span class="xmlverb-text">2004, P&amp;amp;P Software GmbH</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">copyright</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
  <br/>
  </span>&lt;!--<span class="xmlverb-comment"> Default output format, normally overwritten by importing stylesheet </span>--&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e56">output</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">xhtml</span>" <span class="xmlverb-attr-name">omit-xml-declaration</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">method</span>="<span class="xmlverb-attr-content">xml</span>" <span class="xmlverb-attr-name">doctype-public</span>="<span class="xmlverb-attr-content">-//W3C//DTD XHTML 1.0 Transitional//EN</span>" <span class="xmlverb-attr-name">doctype-system</span>="<span class="xmlverb-attr-content">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</span>" <span class="xmlverb-attr-name">indent</span>="<span class="xmlverb-attr-content">no</span>" <span class="xmlverb-attr-name">encoding</span>="<span class="xmlverb-attr-content">iso-8859-1</span>" /&gt;<span class="xmlverb-text"><br/>
  <br/>
  </span>&lt;!--<span class="xmlverb-comment"> Output format for logfile </span>--&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e60">output</a></span> <span class="xmlverb-attr-name">method</span>="<span class="xmlverb-attr-content">xml</span>" <span class="xmlverb-attr-name">indent</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
  <br/>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e62">doc</a></span>&gt;<span class="xmlverb-text"> <br/>
    Root template if XSLTdoConfig file is used<br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e65">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">/xsl:stylesheet</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e67">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e69">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDirUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:normalizeFolder(resolve-uri(if( $targetDir ) then $targetDir else concat(util:getFolder(base-uri(/)), 'xsltdoc/'), base-uri(/) ))</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e71">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sourceRootUriAbs</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFolder(base-uri(/))</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e73">message</a></span>&gt;<span class="xmlverb-text">Generate documentation in: </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e75">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">message</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e77">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">tmpConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e79">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name($config)}</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e81">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/@*</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e83">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/*</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e85">targetDirUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$targetDirUriAbs}</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e87">sourceRootUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$sourceRootUriAbs}</span>" /&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e91">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">extConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e93">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$tmpConfig</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;!--<span class="xmlverb-comment"> Read the files to be processed from the config file and save them in a filelist </span>--&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e98">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-name"><a name="d21e100">pagelist</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheets</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e102">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e104">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">base-uri(/)</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e106">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$sourceRootUriAbs</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e108">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-name">pagelist</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e113">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;!--<span class="xmlverb-comment"> Append the filelist to the config variable </span>--&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e117">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:appendElement($extConfig,$stylesheetList)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e121">doc</a></span>&gt;<span class="xmlverb-text"> <br/>
    Root template if XSLTdoConfig file is used<br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e124">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">/XSLTdocConfig</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e126">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e128">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDirUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">resolve-uri(util:normalizeFolder(util:pathToUri(/XSLTdocConfig/TargetDirectory/@path)), base-uri(/) )</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e130">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sourceRootUriAbs</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;!--<span class="xmlverb-comment"> Backwards compatibility to old config files. </span>--&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e134">choose</a></span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e136">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">/XSLTdocConfig/SourceDirectory</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e138">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">resolve-uri(util:normalizeFolder(util:pathToUri(/XSLTdocConfig/SourceDirectory/@path)), base-uri(/))</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e141">otherwise</a></span>&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e143">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">resolve-uri(util:normalizeFolder(util:pathToUri(/XSLTdocConfig/RootStylesheets/@dir)), base-uri(/))</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
<br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e148">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">tmpConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e150">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name($config)}</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e152">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/@*</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e154">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/*</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e156">targetDirUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$targetDirUriAbs}</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e158">sourceRootUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$sourceRootUriAbs}</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e160">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">AdditionalCSS</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-name"><a name="d21e162">additionalCSS</a></span>&gt;<span class="xmlverb-text"><br/>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e164">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">AdditionalCSS/File</span>"&gt;<span class="xmlverb-text"><br/>
              </span>&lt;<span class="xmlverb-element-name"><a name="d21e166">file</a></span> <span class="xmlverb-attr-name">uriAbs</span>="<span class="xmlverb-attr-content">{resolve-uri( @href , $targetDirUriAbs )}</span>"&gt;<span class="xmlverb-text"><br/>
                </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e168">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@media</span>"&gt;<span class="xmlverb-text"><br/>
                  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e170">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@media</span>" /&gt;<span class="xmlverb-text"><br/>
                </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
              </span>&lt;/<span class="xmlverb-element-name">file</span>&gt;<span class="xmlverb-text"><br/>
            </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
          </span>&lt;/<span class="xmlverb-element-name">additionalCSS</span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e179">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">extConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e181">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$tmpConfig</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
<br/>
    </span>&lt;!--<span class="xmlverb-comment"> Read the files to be processed from the config file and save them in a filelist </span>--&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e186">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e188">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">RootStylesheets/File</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e190">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e192">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">resolve-uri(@href, $sourceRootUriAbs)</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e194">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$sourceRootUriAbs</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e196">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;!--<span class="xmlverb-comment"> Build distinct filelist eliminating file elements with the same @uri attribute </span>--&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e203">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">distinctStylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-name"><a name="d21e205">pagelist</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheets</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e207">for-each-group</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$stylesheetList</span>" <span class="xmlverb-attr-name">group-by</span>="<span class="xmlverb-attr-content">@srcUriAbs</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e209">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each-group</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-name">pagelist</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e214">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;!--<span class="xmlverb-comment"> Append the filelist to the config variable </span>--&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e218">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:appendElement(util:appendElement($extConfig,$distinctStylesheetList), /XSLTdocConfig)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
  <br/>
  <br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e222">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e224">copy</a></span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e226">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e228">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
  <br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e232">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e234">copy</a></span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e236">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e238">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@id</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e240">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriAbs</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e242">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">resolve-uri( if( @targetFilename ) then @targetFilename else concat(@id, '.html'), ancestor::config/targetDirUriAbs/@href )</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">attribute</span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e245">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriRel</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e247">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if( @targetFilename ) then @targetFilename else concat(@id, '.html')</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">attribute</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
  <br/>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e253">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">void</span>"&gt;<span class="xmlverb-text"><br/>
    Generates each page given in the config parameter.<br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e256">template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e258">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;!--<span class="xmlverb-comment"> To logfile </span>--&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e262">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e264">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">htmlTemplate</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc($config/htmlTemplate/@href)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">document-node()</span>" /&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one html page for each page in config </span>--&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e268">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/page</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e270">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e272">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$htmlTemplate</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e274">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e276">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
   <br/>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one html page for each stylesheet </span>--&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e283">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist/page</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e285">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e287">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$htmlTemplate</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e289">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e291">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one highlighted sourcecode page for each stylesheet (using) </span>--&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e298">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist/page</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e300">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@verbatimUriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e302">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">xmlverbwrapper</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e304">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">css-stylesheet</span>"&gt;<span class="xmlverb-text"><br/>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e306">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat(util:getRelativeUri( util:getFolder(@uriAbs), $config/targetDirUriAbs/@href ), 'xmlverbatim.css')</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">with-param</span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span>&lt;!--<span class="xmlverb-comment"><br/>
**************************************<br/>
 XSLTdoc HTML Templates<br/>
**************************************<br/>
</span>--&gt;<span class="xmlverb-text"><br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e315">doc</a></span>&gt;<span class="xmlverb-text">Identity template for XSLTdoc templates</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e318">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e320">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e322">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e324">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">http://www.w3.org/1999/xhtml</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e326">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e328">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e332">doc</a></span>&gt;<span class="xmlverb-text"><br/>
  This template replaces the xdt:content element in the html template.<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e335">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:content</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e337">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e339">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e341">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$currentPage</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>" /&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e344">doc</a></span>&gt;<span class="xmlverb-text"><br/>
  This template replaces the xdt:cssDeclaration element in the html template.<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e347">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:cssDeclaration</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e349">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e351">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-name"><a name="d21e353">link</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{concat(util:getRelativeUri( util:getFolder($currentPage/@uriAbs), $config/targetDirUriAbs/@href ), 'XSLTdoc.css')}</span>" <span class="xmlverb-attr-name">rel</span>="<span class="xmlverb-attr-content">stylesheet</span>" <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">text/css</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e355">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$config/additionalCSS</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e357">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/additionalCSS/file</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-name"><a name="d21e359">link</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>" <span class="xmlverb-attr-name">rel</span>="<span class="xmlverb-attr-content">stylesheet</span>" <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">text/css</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e361">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@media</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e363">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@media</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-name">link</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text">  <br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e370">doc</a></span>&gt;<span class="xmlverb-text"><br/>
  Renders the site title<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e373">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:siteTitle</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e375">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e377">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e379">choose</a></span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e381">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e383">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($config/XSLTdocConfig/Title,' - ', $currentPage/@label)</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e386">otherwise</a></span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e388">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat('XSLTdoc - ', $currentPage/@label)</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e393">doc</a></span>&gt;<span class="xmlverb-text"><br/>
  This template replaces the xdt:menuLinks element in the html template.<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e396">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:menuLinks</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e398">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e400">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e402">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/page[@menu='yes']</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e404">choose</a></span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e406">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$currentPage is .</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e408">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">menuLinkCurrent</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e409">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@label</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e412">otherwise</a></span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e414">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">menuLink</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e415">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@label</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e421">doc</a></span>&gt;<span class="xmlverb-text"><br/>
  This stylesheet renders the content for pages definded in the 'stylesheet' pagelist.<br/>
  It just applies the template rules to the root element of the stylesheets linked<br/>
  in the page element. This calls the template rules defined in stylesheet.xsl.<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e424">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[parent::pagelist[@id='stylesheets']]</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e426">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e428">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;!--<span class="xmlverb-comment"> Calls the templates defined in stylesheet.xsl </span>--&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e432">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">stylesheet</span>" /&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e435">doc</a></span>&gt;<span class="xmlverb-text"><br/>
  This templates creates the content for a page with the name 'stylesheetList'.<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e438">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='stylesheetList']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e440">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e442">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-name"><a name="d21e444">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheetList</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-name"><a name="d21e446">h1</a></span>&gt;<span class="xmlverb-text">Stylesheet List</span>&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e449">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e451">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcDirAbs</span>" /&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e453">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcFilename</span>" /&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-name"><a name="d21e455">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e457">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">declName</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-name"><a name="d21e459">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">declLink</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriRel}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e460">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcUriRel</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e463">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e465">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/xsl:stylesheet</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e472">doc</a></span>&gt;<span class="xmlverb-text"><br/>
  This templates creates the content for a page with the name 'functionTemplateList'.<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e475">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='functionTemplateList']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e477">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e479">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-name"><a name="d21e481">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">functionTemplateList</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-name"><a name="d21e483">h1</a></span>&gt;<span class="xmlverb-text">Functions/Templates List</span>&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e486">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">allFunctions</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e488">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e490">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e492">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/xsl:stylesheet/xsl:function</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e494">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e496">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$page</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e501">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">allTemplates</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e503">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e505">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e507">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/xsl:stylesheet/xsl:template[@name]</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e509">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e511">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$page</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br/>
<br/>
    </span>&lt;<span class="xmlverb-element-name"><a name="d21e516">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">namedTemplatesSummary</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-name"><a name="d21e518">h2</a></span>&gt;<span class="xmlverb-text">Templates</span>&lt;/<span class="xmlverb-element-name">h2</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e521">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allTemplates[self::xsl:template]</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e523">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pos</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e525">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e527">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printDeclaration</span>"&gt;<span class="xmlverb-text"><br/>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e529">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">link</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($allTemplates[self::page][$pos]/@uriRel, '#', generate-id(.))</span>" /&gt;<span class="xmlverb-text"><br/>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e531">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allTemplates[self::page][$pos]/@verbatimUriRel</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-name"><a name="d21e534">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br/>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e536">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;<span class="xmlverb-element-name"><a name="d21e542">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">functionsSummary</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-name"><a name="d21e544">h2</a></span>&gt;<span class="xmlverb-text">Functions</span>&lt;/<span class="xmlverb-element-name">h2</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e547">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allFunctions[self::xsl:function]</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e549">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pos</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-name"><a name="d21e551">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e553">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printDeclaration</span>"&gt;<span class="xmlverb-text"><br/>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e555">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">link</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($allFunctions[self::page][$pos]/@uriRel, '#', generate-id(.))</span>" /&gt;<span class="xmlverb-text"><br/>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e557">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allFunctions[self::page][$pos]/@verbatimUriRel</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
          </span>&lt;<span class="xmlverb-element-name"><a name="d21e560">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br/>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e562">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br/>
          </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e570">doc</a></span>&gt;<span class="xmlverb-text"><br/>
  This templates creates the content for a page with the name 'mainPage'.<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e573">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='mainPage']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e575">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e577">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-name"><a name="d21e579">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">mainPage</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-name"><a name="d21e581">h1</a></span>&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e582">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig/Title</span>" /&gt;&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e584">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig/Introduction/node()</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">namspace2xhtml</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e588">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">namspace2xhtml</span>"&gt;<span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e590">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">http://www.w3.org/1999/xhtml</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e592">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e594">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">XdocTags</span>" /&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
<br/>
</span>&lt;!--<span class="xmlverb-comment"> <br/>
****************************************<br/>
* Named Templates<br/>
****************************************<br/>
 </span>--&gt;<span class="xmlverb-text"><br/>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e600">doc</a></span>&gt;<span class="xmlverb-text"> <br/>
    Builds a list of all stylesheet files by following the include and<br/>
    import links in each stylesheet.<br/>
    <br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e602">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>"&gt;<span class="xmlverb-text">The URI of the stylesheet from which indcludes/imports should be followed to find files.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">param</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d21e605">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>"&gt;<span class="xmlverb-text">The root directory to which relative paths should be built to.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">param</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e609">template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e611">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">base-uri(.)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e613">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e615">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e617">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:normalizeUri($stylesheetUri)</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e619">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcDirAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFolder($srcUriAbs)</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e621">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcFilename</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFile($srcUriAbs)</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e623">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcDirRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getRelativeUri($rootUri, util:getFolder($srcUriAbs))</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e625">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename)</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e627">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($targetUri, $srcDirRel, $srcFilename, '.xd.html')</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e629">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename, '.xd.html')</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e631">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($targetUri, $srcDirRel, $srcFilename, '.src.html')</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e633">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename, '.src.html')</span>" /&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-name"><a name="d21e635">page</a></span> <span class="xmlverb-attr-name">uriAbs</span>="<span class="xmlverb-attr-content">{$uriAbs}</span>" <span class="xmlverb-attr-name">uriRel</span>="<span class="xmlverb-attr-content">{$uriRel}</span>" <span class="xmlverb-attr-name">verbatimUriAbs</span>="<span class="xmlverb-attr-content">{$verbatimUriAbs}</span>" <span class="xmlverb-attr-name">verbatimUriRel</span>="<span class="xmlverb-attr-content">{$verbatimUriRel}</span>" <span class="xmlverb-attr-name">srcUriAbs</span>="<span class="xmlverb-attr-content">{$srcUriAbs}</span>" <span class="xmlverb-attr-name">srcUriRel</span>="<span class="xmlverb-attr-content">{$srcUriRel}</span>" <span class="xmlverb-attr-name">srcDirAbs</span>="<span class="xmlverb-attr-content">{$srcDirAbs}</span>" <span class="xmlverb-attr-name">srcFilename</span>="<span class="xmlverb-attr-content">{$srcFilename}</span>" <span class="xmlverb-attr-name">label</span>="<span class="xmlverb-attr-content">{$srcFilename}</span>"&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-name">page</span>&gt;<span class="xmlverb-text"><br/>
    <br/>
    </span>&lt;!--<span class="xmlverb-comment"> Follow import/includes </span>--&gt;<span class="xmlverb-text"><br/>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e640">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">document($srcUriAbs)/xsl:stylesheet/xsl:include | document($srcUriAbs)/xsl:stylesheet/xsl:import</span>"&gt;<span class="xmlverb-text"><br/>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e642">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e644">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">resolve-uri(@href, base-uri(.))</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e646">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$rootUri</span>" /&gt;<span class="xmlverb-text"><br/>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e648">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetUri</span>" /&gt;<span class="xmlverb-text"><br/>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br/>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br/>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">stylesheet</span>&gt;<br/>
</div>
</tt><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>v
         </body></html>
