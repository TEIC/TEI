<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>Emacs installation</title>
<meta name="GENERATOR" content=
"Modular DocBook HTML Stylesheet Version 1.57">
<link rel="HOME" title="SGML for Windows NT" href="book1.html">
<link rel="UP" title="Emacs" href="c164.html">
<link rel="PREVIOUS" title="Emacs" href="c164.html">
<link rel="NEXT" title="Gnuserv installation" href="x334.html">
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF"
vlink="#840084" alink="#0000FF">
<div class="NAVHEADER">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<th colspan="3" align="center">SGML for Windows NT: Setting up a
free SGML editing and publishing system on the Windows NT
platform</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href=
"c164.html">Prev</a></td>
<td width="80%" align="center" valign="bottom">Chapter 4.
Emacs</td>
<td width="10%" align="right" valign="bottom"><a href=
"x334.html">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>

<div class="SECT1">
<h1 class="SECT1"><a name="AEN252">Emacs installation</a></h1>

<div class="PROCEDURE">
<ol type="1">
<li>
<p><b>Unpack the archive</b></p>

<p>The emacs-20.7 archive contains directory information and long
filenames, which both must be preserved when unpacking the files
(see your unpacker help). Unpack the archive to your programs
directory, e.g. <tt class="FILENAME">C:\Programs</tt>. The unpacker
will create the directory <tt class="FILENAME">\emacs-20.7</tt> in
your programs directory with the subdirectories <tt class=
"FILENAME">\bin</tt>, <tt class="FILENAME">\etc</tt>, <tt class=
"FILENAME">\info</tt>, <tt class="FILENAME">\lisp</tt>, and perhaps
the empty subdirectories <tt class="FILENAME">\lock</tt> and <tt
class="FILENAME">\site-lisp</tt>. To save some typing I suggest to
rename the emacs directory e.g. to <tt class=
"FILENAME">\emacs207</tt>.</p>
</li>

<li>
<p><b>Create missing subdirectories</b></p>

<p>If your unpacker did not create the subdirectories <tt class=
"FILENAME">\lock</tt> and <tt class="FILENAME">\site-lisp</tt>,
create them manually in your <tt class="FILENAME">\emacs207</tt>
directory. These directories are initially empty.</p>
</li>

<li>
<p><b>Create the <tt class="FILENAME">\emacsen</tt>
subdirectory</b></p>

<p>In order to make future updates of NTEmacs as painless as
possible, it is useful to keep all Elisp and other files that you
will add to your basic NTEmacs installation in a separate
directory. Therefore create a sibling of the emacs directory like
<tt class="FILENAME">C:\Programs\emacsen</tt>. The trick is that
you can add and remove future versions of NTEmacs without touching
your local add-ons. You can even run a new version in parallel to
your existing version to see whether some of your local add-ons
break. In this new subdirectory, create the subdirectories <tt
class="FILENAME">\bin</tt> and <tt class=
"FILENAME">\site-lisp</tt>.</p>
</li>

<li>
<p><b>Set the environment</b></p>

<p>Starting from version 20.7, this step is no longer necessary, as
NTEmacs now updates the necessary registry settings when you run
<tt class="FILENAME">runemacs.exe</tt> for the first time. Versions
prior to 20.7 need a small utility <tt class="FILENAME">addpm</tt>
which has to be run once to add the registry settings.</p>
</li>

<li>
<p><b>Adjust PATH</b></p>

<p>Add the <tt class="FILENAME">\emacs207\bin</tt> and <tt class=
"FILENAME">\emacsen\bin</tt> directories to the <tt class=
"ENVAR">PATH</tt> environment variable. This will let you start
<span class="APPLICATION">Emacs</span> from the command line. In
the control panel, select the "Environment" tab in the System
dialog. Append the <tt class="FILENAME">\bin</tt> directories, e.g.
<tt class=
"FILENAME">c:\Programs\emacs207\bin;c:\Programs\emacsen\bin</tt> to
the <tt class="ENVAR">PATH</tt> environment variable (this is a
semicolon-separated list of directories) in the upper panel (system
variables) and press <span class="GUIBUTTON">Set</span>. Close the
dialog by pressing <span class="GUIBUTTON">Ok</span>.</p>
</li>

<li>
<p><b>Create HOME</b></p>

<p>Every user on your NT box has to define an environment variable
called <tt class="ENVAR">HOME</tt>. This variable will let <span
class="APPLICATION">Emacs</span> find the personal <tt class=
"FILENAME">_emacs</tt> file. Depending on your system, <tt class=
"ENVAR">HOME</tt> should point either to a local or a network home
directory. The variable is set via the control panel. Select the
"Environment" tab in the System dialog and create <tt class=
"ENVAR">HOME</tt> in the lower panel (User variables). Set its
value to the appropriate directory, e.g. <tt class=
"FILENAME">c:\Users\myself</tt> and press <span class=
"GUIBUTTON">Set</span>. If you or your sysop have defined the <tt
class="ENVAR">HOMEDRIVE</tt> and <tt class="ENVAR">HOMEPATH</tt>
variables, you may use <tt class=
"FILENAME">%HOMEDRIVE%%HOMEPATH%</tt> as a value for <tt class=
"ENVAR">HOME</tt> instead. Close the dialog by pressing <span
class="GUIBUTTON">Ok</span>.</p>

<p>If you want to set up <span class="APPLICATION">Emacs</span>
with a system-wide configuration file, set the <tt class=
"ENVAR">HOME</tt> environment variable of your administrator
account to an appropriate directory. After completing the whole
SGML setup procedure from your administrator account, simply move
the contents of the <tt class="FILENAME">_emacs</tt> in your
administrator home directory to one of the system-wide
configuration files. This will be described at the end of this
tutorial.</p>
</li>

<li><a name="STEP-ADD-SITE-LISP"></a>
<p><b>Set the load-path</b></p>

<p>Make the first customizations to the <tt class=
"FILENAME">_emacs</tt> file. You might do this by manually editing
the file, but <span class="APPLICATION">Emacs</span> offers an
elegant method to change some (but not all) settings in this file,
and I describe this modification as an example. Start <span class=
"APPLICATION">Emacs</span> from the start menu. Use the <span
class="GUIMENU">Help</span>-&gt;<span class=
"GUISUBMENU">Customize</span>-&gt;<span class=
"GUIMENUITEM">Top-level customization group</span> menu command to
start the customization. Locate the Environment group and jump to
it by clicking on the <span class="GUIBUTTON">[Go to Group]</span>
button next to the Environment group. Locate the Load path entry
and fold out the values by clicking on the <span class=
"GUIBUTTON">[Show]</span> button. Make sure that the subdirectory
<tt class="FILENAME">/site-lisp</tt> is listed. If this entry is
missing, create it by clicking on the <span class=
"GUIBUTTON">[INS]</span> button at the end of the list. Click the
<span class="GUIBUTTON">[Current dir?]</span> button and select
"Directory". Then enter the full path, e.g. <tt class=
"FILENAME">C:\Programs\emacs207\site-lisp</tt>. Repeat the same
procedure for the <tt class="FILENAME">\emacsen\site-lisp</tt>
subdirectory. Save this setting by clicking on the <span class=
"GUIBUTTON">[Save for future sessions]</span> button on top of the
Environment group.</p>
</li>
</ol>
</div>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href=
"c164.html">Prev</a></td>
<td width="34%" align="center" valign="top"><a href=
"book1.html">Home</a></td>
<td width="33%" align="right" valign="top"><a href=
"x334.html">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">Emacs</td>
<td width="34%" align="center" valign="top"><a href=
"c164.html">Up</a></td>
<td width="33%" align="right" valign="top">Gnuserv
installation</td>
</tr>
</table>
</div>
</body>
</html>

